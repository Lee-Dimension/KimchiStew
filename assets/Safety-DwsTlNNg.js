import{_ as F,c as d,r as w,j as y,a as o,o as n,k as _,b as t,t as D,d as v,w as f,e as C,n as E,F as j,u as S}from"./index-CIQMPhlY.js";const A={key:0,class:"fixed inset-0 bg-[rgba(0,0,0,0.75)] flex justify-center items-center z-50"},B={class:"bg-[#FFFEEF] p-8 rounded-lg shadow-xl text-center"},M={class:"text-xl font-bold mb-4"},N={class:"bg-[#FFFEEF] min-h-screen"},I={class:"w-full max-w-sm mx-auto p-5 font-sans"},V={class:"relative flex justify-center items-center py-4 mb-16"},z={class:"absolute left-0"},U={class:"space-y-5"},$={class:"flex justify-between items-center w-full p-5 bg-[#1D1A05] rounded-2xl cursor-pointer"},J={key:0,class:"text-sm font-bold text-[#3A9CFF] mt-1"},O={key:1,class:"text-sm font-bold text-[#FF0000] mt-1"},P={class:"flex justify-between items-center w-full p-5 bg-[#1D1A05] rounded-2xl mt-5"},R={key:0,class:"text-sm font-bold text-[#3A9CFF] mt-1"},T={key:1,class:"text-sm font-bold text-[#FF0000] mt-1"},q={class:"mt-35"},G={class:"text-sm font-bold mt-1"},H={key:0,class:"text-gray-500"},K={key:1,class:"text-blue-500"},L={key:2,class:"text-red-500"},Q={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"#1D1A05",class:"w-6 h-6"},W={__name:"Safety",setup(X){const g=S(),s=d(()=>{const r=sessionStorage.getItem("loggedInUser");return r?JSON.parse(r):null}),l=w(!1),m=d(()=>s.value&&s.value.educationCompletionDate?"valid":"none"),c=d(()=>{if(!s.value||!s.value.educationCompletionDate)return"none";const r=new Date,e=s.value.educationCompletionDate,[i,x,h]=e.split("-").map(Number),k=new Date(`20${i}`,x-1,h),p=new Date(k);return p.setMonth(p.getMonth()+3),r>=p?"expired":"valid"}),a=d(()=>!s.value||!s.value.test?"none":s.value.test==="pass"?"pass":s.value.test==="nonepass"?"fail":"none"),u=w("");y(()=>{s.value&&(c.value==="expired"?(u.value="재교육 대상자입니다.",l.value=!0):c.value==="none"&&(u.value="기초교육 대상자입니다.",l.value=!0))});const b=()=>{if(m.value==="none"){u.value="기초교육을 완수해야합니다.",l.value=!0;return}a.value!=="pass"&&g.push("/test")};return(r,e)=>{const i=C("router-link");return n(),o(j,null,[l.value?(n(),o("div",A,[t("div",B,[t("p",M,D(u.value),1),t("button",{onClick:e[0]||(e[0]=x=>l.value=!1),class:"bg-[#1D1A05] hover:bg-black text-[#FFEA00] font-bold py-2 px-8 rounded"},"확인")])])):_("",!0),t("div",N,[t("div",I,[t("header",V,[t("button",z,[v(i,{to:"/main"},{default:f(()=>[...e[1]||(e[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"#78711D",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})],-1)])]),_:1})]),e[2]||(e[2]=t("h1",{class:"text-4xl font-bold text-[#78711D]"},"안전 교육",-1))]),t("main",U,[v(i,{to:"/education"},{default:f(()=>[t("div",$,[t("div",null,[e[3]||(e[3]=t("p",{class:"text-lg font-bold text-[#FFEC17]"},"건설업 기초안전보건교육",-1)),m.value==="valid"?(n(),o("p",J,"이수")):(n(),o("p",O,"미이수"))]),e[4]||(e[4]=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"white",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1))])]),_:1}),v(i,{to:"/education"},{default:f(()=>[t("div",P,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-lg font-bold text-[#FFEC17]"},"정기 안전보건교육",-1)),c.value==="valid"?(n(),o("p",R,"이수")):(n(),o("p",T,"미이수"))]),e[6]||(e[6]=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"white",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1))])]),_:1})]),t("footer",q,[t("div",{onClick:b,class:E(["flex justify-between items-center w-full p-5 rounded-2xl",a.value==="pass"?"cursor-not-allowed":"cursor-pointer","bg-[#FFEC17]"])},[t("div",null,[e[7]||(e[7]=t("p",{class:"text-lg font-bold text-[#1D1A05]"},"안전 시험",-1)),t("p",G,[a.value==="none"?(n(),o("span",H,"미응시")):a.value==="pass"?(n(),o("span",K,"합격")):a.value==="fail"?(n(),o("span",L,"불합격")):_("",!0)])]),(n(),o("svg",Q,[...e[8]||(e[8]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"},null,-1)])]))],2)])])])],64)}}},Z=F(W,[["__scopeId","data-v-e65e731d"]]);export{Z as default};
