import{_ as F,r as d,b as f,k as E,c as l,o as a,l as c,d as e,e as P,w as $,f as B,t as m,F as I,u as M}from"./index-CaYU_B0D.js";const N=["src"],U={class:"bg-[#FFFEEF] min-h-screen"},V={class:"w-full max-w-sm mx-auto p-5 font-sans flex flex-col h-screen"},J={class:"relative flex justify-center items-center py-4 flex-shrink-0"},K={class:"absolute left-0"},O={class:"flex-grow my-4 flex flex-col"},z={class:"w-full h-full bg-[#1D1A05] rounded-3xl flex items-center justify-center p-5 text-white text-lg text-center"},A={key:0},L=["src"],R={key:0,class:"my-4 text-center flex-shrink-0"},Y={class:"flex justify-between items-center w-full py-4 flex-shrink-0"},q=["disabled"],G={class:"text-lg font-bold text-[#78711D]"},H=["disabled"],Q={__name:"Education",setup(T){const p=[{type:"text",content:"1. 안전의 중요성: 모든 작업에 앞서 안전을 최우선으로 생각해야 합니다. 작은 부주의가 큰 사고로 이어질 수 있습니다."},{type:"image",content:"/KimchiStew/doldari.png"},{type:"text",content:"3. 개인 보호 장비 (PPE): 헬멧, 안전화, 장갑 등 지정된 개인 보호 장비는 항상 올바르게 착용해야 합니다."},{type:"image",content:"/KimchiStew/favicon.png"},{type:"text",content:"5. 모든 교육 내용을 숙지하셨습니다. 아래 버튼을 눌러 교육을 완료하세요."}],y=M(),n=d(null),_=f(()=>{if(!n.value||!n.value.educationCompletionDate)return"none";const s=new Date("2025-09-20"),[t,i,u]=n.value.educationCompletionDate.split("-").map(Number),j=new Date(`20${t}`,i-1,u),v=new Date(j);return v.setMonth(v.getMonth()+3),s>=v?"expired":"valid"}),b=()=>{if(n.value){const s=new Date("2025-09-20"),t=String(s.getFullYear()).slice(-2),i=String(s.getMonth()+1).padStart(2,"0"),u=String(s.getDate()).padStart(2,"0");n.value.educationCompletionDate=`${t}-${i}-${u}`,sessionStorage.setItem("loggedInUser",JSON.stringify(n.value)),y.push("/safe")}},o=d(0),g=d(!1),h=d(""),r=f(()=>p[o.value]),w=f(()=>o.value===0),x=f(()=>o.value===p.length-1),k=()=>{x.value||o.value++},D=()=>{w.value||o.value--},C=s=>{h.value=s,g.value=!0},S=()=>{g.value=!1};return E(()=>{const s=sessionStorage.getItem("loggedInUser");s&&(n.value=JSON.parse(s))}),(s,t)=>{const i=B("router-link");return a(),l(I,null,[g.value?(a(),l("div",{key:0,onClick:S,class:"fixed inset-0 bg-[rgba(0,0,0,0.85)] flex justify-center items-center z-50 p-4"},[e("img",{src:h.value,class:"max-w-full max-h-full object-contain"},null,8,N),t[1]||(t[1]=e("button",{class:"absolute top-4 right-4 text-white text-4xl font-bold"},"×",-1))])):c("",!0),e("div",U,[e("div",V,[e("header",J,[e("button",K,[P(i,{to:"/safe"},{default:$(()=>[...t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"#78711D",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})],-1)])]),_:1})]),t[3]||(t[3]=e("h1",{class:"text-3xl font-bold text-[#78711D]"},"정기 안전보건교육",-1))]),e("main",O,[e("div",z,[r.value.type==="text"?(a(),l("p",A,m(r.value.content),1)):c("",!0),r.value.type==="image"?(a(),l("img",{key:1,src:r.value.content,alt:"Education Content",class:"max-w-full max-h-full object-contain cursor-pointer",onClick:t[0]||(t[0]=u=>C(r.value.content))},null,8,L)):c("",!0)])]),x.value?(a(),l("div",R,[_.value!=="valid"?(a(),l("button",{key:0,onClick:b,class:"w-full bg-green-500 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg"},"교육 이수 완료")):c("",!0)])):c("",!0),e("footer",Y,[e("button",{onClick:D,disabled:w.value,class:"bg-black text-white w-14 h-14 rounded-full flex items-center justify-center disabled:opacity-50"},[...t[4]||(t[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})],-1)])],8,q),e("p",G,m(o.value+1)+" / "+m(p.length),1),e("button",{onClick:k,disabled:x.value,class:"bg-black text-white w-14 h-14 rounded-full flex items-center justify-center disabled:opacity-50"},[...t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1)])],8,H)])])])],64)}}},X=F(Q,[["__scopeId","data-v-00088614"]]);export{X as default};
