import{c as d,r as g,j as F,a as o,o as n,k as w,b as t,t as y,d as v,w as m,e as D,n as C,F as E,u as A}from"./index-CIUimXk6.js";const S={key:0,class:"fixed inset-0 bg-[rgba(0,0,0,0.75)] flex justify-center items-center z-50"},B={class:"bg-[#FFFEEF] p-8 rounded-lg shadow-xl text-center"},j={class:"text-xl font-bold mb-4"},M={class:"background-out"},N={class:"background-in"},V={class:"head-setting mb-16"},z={class:"space-y-5"},I={class:"small-box bg-[#1D1A05]"},U={key:0,class:"text-sm font-bold text-[#3A9CFF] mt-1"},$={key:1,class:"text-sm font-bold text-[#FF0000] mt-1"},J={class:"small-box bg-[#1D1A05] mt-5"},O={key:0,class:"text-sm font-bold text-[#3A9CFF] mt-1"},P={key:1,class:"text-sm font-bold text-[#FF0000] mt-1"},R={class:"mt-35"},T={class:"text-sm font-bold mt-1"},q={key:0,class:"text-gray-500"},G={key:1,class:"text-blue-500"},H={key:2,class:"text-red-500"},K={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"#1D1A05",class:"w-6 h-6"},W={__name:"Safety",setup(L){const k=A(),s=d(()=>{const r=sessionStorage.getItem("loggedInUser");return r?JSON.parse(r):null}),l=g(!1),x=d(()=>s.value&&s.value.educationCompletionDate?"valid":"none"),c=d(()=>{if(!s.value||!s.value.educationCompletionDate)return"none";const r=new Date,e=s.value.educationCompletionDate,[i,f,_]=e.split("-").map(Number),h=new Date(`20${i}`,f-1,_),p=new Date(h);return p.setMonth(p.getMonth()+3),r>=p?"expired":"valid"}),a=d(()=>!s.value||!s.value.test?"none":s.value.test==="pass"?"pass":s.value.test==="nonepass"?"fail":"none"),u=g("");F(()=>{s.value&&(c.value==="expired"?(u.value="재교육 대상자입니다.",l.value=!0):c.value==="none"&&(u.value="기초교육 대상자입니다.",l.value=!0))});const b=()=>{if(x.value==="none"){u.value="기초교육을 완수해야합니다.",l.value=!0;return}a.value!=="pass"&&k.push("/test")};return(r,e)=>{const i=D("router-link");return n(),o(E,null,[l.value?(n(),o("div",S,[t("div",B,[t("p",j,y(u.value),1),t("button",{onClick:e[0]||(e[0]=f=>l.value=!1),class:"bg-[#1D1A05] hover:bg-black text-[#FFEA00] font-bold py-2 px-8 rounded"},"확인")])])):w("",!0),t("div",M,[t("div",N,[t("header",V,[v(i,{to:"/main",class:"heed-text"},{default:m(()=>[...e[1]||(e[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"#78711D",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})],-1)])]),_:1}),e[2]||(e[2]=t("h1",{class:"text-3xl font-bold text-[#78711D]"},"안전 교육",-1)),e[3]||(e[3]=t("p",null,null,-1))]),t("main",z,[v(i,{to:"/education"},{default:m(()=>[t("div",I,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-lg font-bold text-[#FFEC17]"},"건설업 기초안전보건교육",-1)),x.value==="valid"?(n(),o("p",U,"이수")):(n(),o("p",$,"미이수"))]),e[5]||(e[5]=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"white",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1))])]),_:1}),v(i,{to:"/education"},{default:m(()=>[t("div",J,[t("div",null,[e[6]||(e[6]=t("p",{class:"text-lg font-bold text-[#FFEC17]"},"정기 안전보건교육",-1)),c.value==="valid"?(n(),o("p",O,"이수")):(n(),o("p",P,"미이수"))]),e[7]||(e[7]=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"white",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1))])]),_:1})]),t("footer",R,[t("div",{onClick:b,class:C(["small-box",a.value==="pass"?"cursor-not-allowed":"cursor-pointer","bg-[#FFEC17]"])},[t("div",null,[e[8]||(e[8]=t("p",{class:"text-lg font-bold text-[#1D1A05]"},"안전 시험",-1)),t("p",T,[a.value==="none"?(n(),o("span",q,"미응시")):a.value==="pass"?(n(),o("span",G,"합격")):a.value==="fail"?(n(),o("span",H,"불합격")):w("",!0)])]),(n(),o("svg",K,[...e[9]||(e[9]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"},null,-1)])]))],2)])])])],64)}}};export{W as default};
