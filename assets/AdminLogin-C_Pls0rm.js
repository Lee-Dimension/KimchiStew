import{f as i,c as g,a as u,o as r,b as t,d as x,w as _,g as w,r as h,h as y,i as k,j as c,v as p,n as I,t as C,k as S}from"./index-B0wxRxvP.js";const V={class:"background-out md:flex md:items-center md:justify-center"},j={class:"background-in"},B={class:"head-setting md:mb-4"},D={class:"main-setting"},N={class:"flex flex-col items-center w-full"},P={class:"flex flex-col w-full mb-4"},T={class:"flex flex-col w-full mb-4"},A={key:0,class:"text-red-500 text-center mb-5 md:mb-3"},E={key:1,class:"mb-5 md:mb-3"},F=["disabled"],U={__name:"AdminLogin",setup(M){const v=S(),l=i(""),a=i(""),o=i(!1),s=i(!1),n=g(()=>!l.value||!a.value),f=async()=>{if(!(n.value||s.value)){s.value=!0,o.value=!1;try{if(!(await fetch("http://localhost:8080/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify({id:l.value,password:a.value})})).ok){o.value=!0;return}localStorage.setItem("loggedInAdminId",l.value),v.push("/admin")}catch{o.value=!0}finally{s.value=!1}}};return(m,e)=>{const b=h("router-link");return r(),u("div",V,[t("div",j,[t("div",B,[e[3]||(e[3]=t("p",null,null,-1)),x(b,{to:"/login",class:"heed-text"},{default:_(()=>[...e[2]||(e[2]=[w("일반 로그인",-1)])]),_:1})]),t("main",D,[e[6]||(e[6]=t("img",{src:y,class:"w-50 h-50 md:w-80 md:h-80"},null,-1)),t("div",N,[t("form",{onSubmit:k(f,["prevent"]),class:"flex flex-col mt-4 w-full mx-auto max-w-md sm:max-w-lg"},[t("div",P,[e[4]||(e[4]=t("label",{for:"adminId",class:"input-label m-3"},"ID",-1)),c(t("input",{type:"text",id:"adminId","onUpdate:modelValue":e[0]||(e[0]=d=>l.value=d),placeholder:"user",class:"input-box md:p-3"},null,512),[[p,l.value]])]),t("div",T,[e[5]||(e[5]=t("label",{for:"adminPw",class:"input-label m-3"},"PW",-1)),c(t("input",{type:"password",id:"adminPw","onUpdate:modelValue":e[1]||(e[1]=d=>a.value=d),placeholder:"user",class:"input-box md:p-3"},null,512),[[p,a.value]])]),o.value?(r(),u("p",A," 입력하신 정보가 일치하지 않습니다 ")):(r(),u("div",E)),t("button",{type:"submit",disabled:n.value||s.value,class:I([{"bg-gray-300":n.value||s.value,"bg-[#FFEC17] hover:bg-yellow-300":!n.value&&!s.value},"login-button mt-10"])},C(s.value?"로그인 중...":"로그인"),11,F)],32)])])])])}}};export{U as default};
