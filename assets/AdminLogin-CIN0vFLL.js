import{r as i,c as g,a as r,b as d,d as s,e as _,f as x,m as h,g as w,k as y,h as m,l as p,n as k,t as I,u as C}from"./index-CKOF-s42.js";import{_ as S}from"./doldari-Da9TNeQ0.js";const V={class:"background-out"},B={class:"background-in"},D={class:"head-setting"},N={class:"main-setting"},P={class:"flex flex-col items-center"},T={class:"flex flex-col w-full mb-4"},A={class:"flex flex-col w-full mb-13"},E={key:0,class:"text-red-500 text-center mb-5"},j={key:1,class:"mb-5"},F=["disabled"],z={__name:"AdminLogin",setup(M){const v=C(),l=i(""),a=i(""),o=i(!1),t=i(!1),n=g(()=>!l.value||!a.value),f=async()=>{if(!(n.value||t.value)){t.value=!0,o.value=!1;try{if(!(await fetch("http://localhost:8080/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify({id:l.value,password:a.value})})).ok){o.value=!0;return}localStorage.setItem("loggedInAdminId",l.value),v.push("/admin")}catch{o.value=!0}finally{t.value=!1}}};return(c,e)=>{const b=w("router-link");return d(),r("div",V,[s("div",B,[s("div",D,[e[3]||(e[3]=s("p",null,null,-1)),_(b,{to:"/",class:"heed-text"},{default:x(()=>[...e[2]||(e[2]=[h("일반 로그인",-1)])]),_:1})]),s("main",N,[e[6]||(e[6]=s("img",{src:S,class:"w-50 h-50"},null,-1)),s("div",P,[s("form",{onSubmit:y(f,["prevent"]),class:"flex flex-col mt-4 w-70"},[s("div",T,[e[4]||(e[4]=s("label",{for:"adminId",class:"input-label m-3"},"ID",-1)),m(s("input",{type:"text",id:"adminId","onUpdate:modelValue":e[0]||(e[0]=u=>l.value=u),placeholder:"user",class:"input-box"},null,512),[[p,l.value]])]),s("div",A,[e[5]||(e[5]=s("label",{for:"adminPw",class:"input-label m-3"},"PW",-1)),m(s("input",{type:"password",id:"adminPw","onUpdate:modelValue":e[1]||(e[1]=u=>a.value=u),placeholder:"user",class:"input-box"},null,512),[[p,a.value]])]),o.value?(d(),r("p",E,"입력하신 정보가 일치하지 않습니다")):(d(),r("div",j)),s("button",{type:"submit",disabled:n.value||t.value,class:k([{"bg-gray-300":n.value||t.value,"bg-[#FFEC17] hover:bg-yellow-300":!n.value&&!t.value},"login-button"])},I(t.value?"로그인 중...":"로그인"),11,F)],32)])])])])}}};export{z as default};
